{% extends "base.html" %}
{% block title %}Careers{% endblock %}

{% block content %}
<div class="d-flex justify-content-between align-items-center mb-3">
    <h2>Alumni Careers</h2>
    
    {% if session.get('admin_logged_in') %}
      <a href="{{ url_for('add_career') }}" class="btn btn-primary">Add Career</a>
    {% endif %}
    
</div>

<table class="table table-striped table-hover shadow-sm">
  <thead class="table-dark">
    <tr>
      <th>Alumni</th>
      <th>Company</th>
      <th>Position</th>
      <th>Start</th>
      <th>End</th>
      
      {% if session.get('admin_logged_in') %}
        <th>Actions</th>
      {% endif %}
    </tr>
  </thead>
  <tbody>
    {% for career in careers %}
    <tr>
      <td>{{ career.first_name }} {{ career.last_name }}</td>
      <td>{{ career.company_name }}</td>
      <td>{{ career.position }}</td>
      <td>{{ career.start_date }}</td>
      <td>{{ career.end_date or '-' }}</td>
      
      {% if session.get('admin_logged_in') %}
      <td>
          <a href="{{ url_for('edit_career', career_id=career.career_id) }}" class="btn btn-sm btn-warning">Edit</a>
          <form action="{{ url_for('delete_career', career_id=career.career_id) }}" method="post" class="d-inline">
            <button type="submit" class="btn btn-sm btn-danger" onclick="return confirm('Delete this career?')">Delete</button>
          </form>
      </td>
      {% endif %}
      
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}